@layer components {
  /* Menu Toggle Container */
  #menuToggle {
    @apply relative w-8 h-8 cursor-pointer;
  }

  /* Base bars */
  #menuToggle .bar {
    @apply absolute left-0 w-full bg-brandDark rounded;
    height: 3px;
    transition: transform 300ms ease-in-out, top 300ms ease-in-out, bottom 300ms ease-in-out;
    transform-origin: center;
  }

  /* Initial top and bottom placement */
  #menuToggle .bar:first-child {
    top: 5px;
  }

  #menuToggle .bar:last-child {
    bottom: 5px;
  }

  /* Open state with overshoot rotation */
  @keyframes rotateOvershootPos {
    0%   { transform: translateY(-50%) rotate(0deg); }
    70%  { transform: translateY(-50%) rotate(50deg); }
    100% { transform: translateY(-50%) rotate(45deg); }
  }

  @keyframes rotateOvershootNeg {
    0%   { transform: translateY(-50%) rotate(0deg); }
    70%  { transform: translateY(-50%) rotate(-50deg); }
    100% { transform: translateY(-50%) rotate(-45deg); }
  }

  #menuToggle.open .bar:first-child {
    top: 50%;
    animation: rotateOvershootPos 300ms ease-out forwards;
  }

  #menuToggle.open .bar:last-child {
    top: 50%;
    bottom: auto;
    animation: rotateOvershootNeg 300ms ease-out forwards;
  }

  /* Mobile menu visibility */
  #mobile-menu {
    @apply opacity-100 transition-opacity duration-300 ease-in-out;
  }

  /* Prevent background scroll when menu is active */
  body.overflow-hidden {
    overflow: hidden;
  }

  /* Gondola fade/slide animation */
  #gondola {
    @apply w-full absolute;
    transition: transform 500ms ease-in-out, opacity 500ms ease-in-out;
  }
}
