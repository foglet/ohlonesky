/* ------------------------
   Hamburger â†’ X (Tham) Animation with Fallback
   ------------------------ */
@layer components {
  .tham {
    @apply cursor-pointer transition-all duration-300 ease-in-out;
  }

  .tham-box {
    @apply relative w-6 h-6;
  }

  .tham-inner {
    @apply absolute top-1/2 -mt-[1px] w-full h-[2px] rounded bg-brandDark transition-all duration-300 ease-in-out;
  }

  .tham-e-squeeze .tham-inner::before,
  .tham-e-squeeze .tham-inner::after {
    content: "";
    @apply block absolute w-full h-[2px] rounded bg-brandDark transition-all duration-300 ease-in-out;
  }

  .tham-e-squeeze .tham-inner::before {
    @apply -top-2;
  }

  .tham-e-squeeze .tham-inner::after {
    @apply -bottom-2;
  }

  #menuToggle {
    @apply transition-transform duration-300 ease-in-out transform;
    transform: rotate(0deg); /* base state */
  }

  #menuToggle.open {
    transform: rotate(45deg); /* animate to 45deg */
  }

  /* Open state: transform to X */
  .open .tham-inner {
    background-color: transparent;
  }

  .open .tham-inner::before {
    transform: translateY(8px) rotate(45deg);
  }

  .open .tham-inner::after {
    transform: translateY(-8px) rotate(-45deg);
  }

  /* Entire toggle rotates 45deg */
  #menuToggle.open {
    transform: rotate(45deg);
    transition: transform 300ms ease-in-out;
  }

  /* Fallback for JS-disabled environments */
  noscript .tham-inner,
  noscript .tham-inner::before,
  noscript .tham-inner::after {
    @apply bg-brandDark;
    transform: none !important;
    opacity: 1 !important;
  }

  /* Ensure mobile menu is visible when toggled */
  #mobile-menu {
    opacity: 1 !important;
  }

  /* Gondola animation (fade/slide control) */
  #gondola {
    @apply w-full absolute;
    transition: transform 500ms ease-in-out, opacity 500ms ease-in-out;
  }
}
